<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Add To Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-title" content="Add to Home">

<link rel="shortcut icon" sizes="16x16" href="../../imgs/icon-16x16.png">
<link rel="shortcut icon" sizes="196x196" href="../../imgs/icon-196x196.png">
<!--link rel="apple-touch-icon-precomposed" sizes="152x152" href="icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="icon-76x76.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="icon-72x72.png"-->
<link rel="apple-touch-icon-precomposed" href="../../imgs/icon-152x152.png">

<link rel="stylesheet" type="text/css" href="../../style/addtohomescreen.css">
<script src="../../src/addtohomescreen.js"></script>
<script>
addToHomescreen();
</script>
</head>

<body>

<h1>todo w/ localStorage</h1>
<form id="form">
  <input type="text" placeholder="Add New...">
  <button>Add Item</button>
</form>
  <ul id="list"></ul>

<script>
//add
$("button").on("click", function() {
  var $item = $("input").val();
  $("ul").append("<li>" + $item + "</li>");
  
//set
$('#form')[0].reset();
  var list = $('#list').html();
  localStorage.setItem('list', list);
  return false;
});
//show
if(localStorage.getItem('list')) {
  $('#list').html(localStorage.getItem('list'));
}
//remove
$("ul").on("click", "li", function () {
    $(this).remove();
    var i = $(this).text();
    var currentList = localStorage.getItem('list');
	// get the current list as a string.
    var newList = currentList.replace('<li>' + i + '</li>', '');
	// replace the clicked item with a blank string. But if you have multiple tasks with the same name this will cause deleting each of them
    localStorage.setItem('list', newList);
	// update the localStorage with the new list
});
</script>
</body>
</html>